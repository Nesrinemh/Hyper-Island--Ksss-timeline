<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: helpers/useSingleContext.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: helpers/useSingleContext.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/* eslint-disable react/prop-types */
import { createContext, useState } from 'react';

/**
 * `GetSingleDataContext` is a React context object. It's used to provide and consume the single data state and the `fetchData` function.
 *
 * @type {React.Context}
 */

const GetSingleDataContext = createContext();

/**
 * `GetSingleDataProvider` is a functional component that provides the single data state and the `fetchData` function to its children.
 * The `fetchData` function fetches data for a single entry from Contentful and sets the `singleData` state.
 *
 *
 * @param {Object} props - The properties passed to the component.
 * @param {React.Node} props.children - The child components to render.
 *
 *
 *
 * // The component can be used like this:
 * &lt;GetSingleDataProvider>
 *   &lt;ChildComponent />
 * &lt;/GetSingleDataProvider>
 *
 * // The context can be consumed like this:
 * const { singleData, fetchData } = useContext(GetSingleDataContext);
 *
 * @returns {React.Element} A `GetSingleDataContext.Provider` element with the `singleData` state and the `fetchData` function as its value.
 */

const GetSingleDataProvider = ({ children }) => {
  const [singleData, setSingleData] = useState(null);
  // Fetching single article data
  const fetchData = async (id) => {
    try {
      const response = await fetch(
        `https://preview.contentful.com/spaces/fr5410kqk9t2/environments/master/entries/${id}?access_token=owrrLKwAXtEz_63EKyciABZxVCXteGvN_16qIaN5Jvc`
      );
      if (!response.ok) {
        throw new Error('Response was not okay');
      }
      const fetchedData = await response.json();
      setSingleData(fetchedData);
    } catch (error) {
      console.log(error);
    }
  };
  // send all props to the children
  return (
    &lt;GetSingleDataContext.Provider value={{ singleData, fetchData }}>
      {children}
    &lt;/GetSingleDataContext.Provider>
  );
};
export { GetSingleDataContext, GetSingleDataProvider };
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#BackBar">BackBar</a></li><li><a href="global.html#EventCard">EventCard</a></li><li><a href="global.html#EventPage">EventPage</a></li><li><a href="global.html#Footer">Footer</a></li><li><a href="global.html#GetSingleDataContext">GetSingleDataContext</a></li><li><a href="global.html#GetSingleDataProvider">GetSingleDataProvider</a></li><li><a href="global.html#Hero">Hero</a></li><li><a href="global.html#MainCard">MainCard</a></li><li><a href="global.html#MainContent">MainContent</a></li><li><a href="global.html#Navbar">Navbar</a></li><li><a href="global.html#SearchBar">SearchBar</a></li><li><a href="global.html#YearBookCard">YearBookCard</a></li><li><a href="global.html#YearNavigation">YearNavigation</a></li><li><a href="global.html#classNames">classNames</a></li><li><a href="global.html#useContentful">useContentful</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.3</a> on Thu May 02 2024 11:04:51 GMT+0200 (Central European Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
